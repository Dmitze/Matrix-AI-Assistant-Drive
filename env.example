# =============================================================================
# Matrix AI Assistant Drive - Конфигурация окружения
# =============================================================================
# Скопируйте этот файл в .env и заполните необходимые значения

# =============================================================================
# MATRIX НАСТРОЙКИ (ОБЯЗАТЕЛЬНЫЕ)
# =============================================================================

# URL Matrix homeserver
MATRIX_HOMESERVER=https://matrix.org

# Имя пользователя бота (без @domain)
MATRIX_USERNAME=your_bot_username

# Пароль бота
MATRIX_PASSWORD=your_bot_password

# ID комнаты для работы бота
MATRIX_ROOM_ID=!roomid:domain.com

# =============================================================================
# MATRIX ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# =============================================================================

# Access token (если есть, иначе будет получен автоматически)
# MATRIX_ACCESS_TOKEN=your_access_token

# Device ID (если есть)
# MATRIX_DEVICE_ID=your_device_id

# Максимальная длина сообщения (по умолчанию: 4000)
MATRIX_MAX_MESSAGE_LENGTH=4000

# Включить E2E шифрование (по умолчанию: false)
MATRIX_ENCRYPTION_ENABLED=false

# Таймаут синхронизации в миллисекундах (по умолчанию: 30000)
MATRIX_SYNC_TIMEOUT=30000

# Количество попыток повторного подключения (по умолчанию: 3)
MATRIX_RETRY_ATTEMPTS=3

# Задержка между попытками в миллисекундах (по умолчанию: 1000)
MATRIX_RETRY_DELAY=1000

# =============================================================================
# OLLAMA LLM НАСТРОЙКИ
# =============================================================================

# URL Ollama сервера (по умолчанию: http://localhost:11434)
OLLAMA_BASE_URL=http://localhost:11434

# Модель для использования (по умолчанию: llama2)
OLLAMA_MODEL=llama2

# Таймаут запросов в миллисекундах (по умолчанию: 60000)
OLLAMA_TIMEOUT=60000

# Максимальное количество токенов (по умолчанию: 2048)
OLLAMA_MAX_TOKENS=2048

# Температура генерации (по умолчанию: 0.7)
OLLAMA_TEMPERATURE=0.7

# Top-p параметр (по умолчанию: 0.9)
OLLAMA_TOP_P=0.9

# Количество попыток для LLM (по умолчанию: 2)
OLLAMA_RETRY_ATTEMPTS=2

# Задержка между попытками LLM в миллисекундах (по умолчанию: 3000)
OLLAMA_RETRY_DELAY=3000

# =============================================================================
# GOOGLE DRIVE НАСТРОЙКИ (ОПЦИОНАЛЬНО)
# =============================================================================

# Путь к JSON файлу с учетными данными Google Service Account
# GOOGLE_CREDENTIALS_PATH=./credentials/google-service-account.json

# Максимальное количество результатов поиска (по умолчанию: 10)
GOOGLE_MAX_SEARCH_RESULTS=10

# Диапазон для чтения Google Sheets (по умолчанию: A1:Z1000)
GOOGLE_SHEET_RANGE=A1:Z1000

# Количество попыток для Google API (по умолчанию: 3)
GOOGLE_RETRY_ATTEMPTS=3

# Задержка между попытками Google API в миллисекундах (по умолчанию: 1000)
GOOGLE_RETRY_DELAY=1000

# Таймаут Google API в миллисекундах (по умолчанию: 30000)
GOOGLE_TIMEOUT=30000

# =============================================================================
# REDIS КЭШ НАСТРОЙКИ (ОПЦИОНАЛЬНО)
# =============================================================================

# URL Redis сервера (по умолчанию: redis://localhost:6379)
REDIS_URL=redis://localhost:6379

# Префикс для ключей кэша (по умолчанию: matrix_bot:)
REDIS_KEY_PREFIX=matrix_bot:

# Время жизни кэша по умолчанию в секундах (по умолчанию: 3600)
REDIS_DEFAULT_TTL=3600

# Максимальное количество попыток подключения (по умолчанию: 3)
REDIS_MAX_RETRIES=3

# Задержка между попытками в миллисекундах (по умолчанию: 500)
REDIS_RETRY_DELAY=500

# Таймаут подключения в миллисекундах (по умолчанию: 5000)
REDIS_TIMEOUT=5000

# =============================================================================
# МЕТРИКИ PROMETHEUS НАСТРОЙКИ
# =============================================================================

# Порт для метрик (по умолчанию: 9090)
METRICS_PORT=9090

# Хост для метрик (по умолчанию: 0.0.0.0)
METRICS_HOST=0.0.0.0

# Включить метрики (по умолчанию: true)
METRICS_ENABLED=true

# Собирать стандартные метрики Node.js (по умолчанию: true)
METRICS_COLLECT_DEFAULT=true

# Интервал обновления метрик в миллисекундах (по умолчанию: 5000)
METRICS_UPDATE_INTERVAL=5000

# =============================================================================
# БЕЗОПАСНОСТЬ НАСТРОЙКИ
# =============================================================================

# Включить систему безопасности (по умолчанию: true)
SECURITY_ENABLED=true

# Максимальная длина сообщения для безопасности (по умолчанию: 5000)
SECURITY_MAX_MESSAGE_LENGTH=5000

# Лимит запросов по умолчанию (по умолчанию: 10)
SECURITY_RATE_LIMIT_DEFAULT=10

# Окно времени для rate limit в миллисекундах (по умолчанию: 60000)
SECURITY_RATE_LIMIT_WINDOW=60000

# Разрешенные пользователи (формат: user1:admin,user2:moderator,user3:user)
# ALLOWED_USERS=@admin:domain.com:admin,@moderator:domain.com:moderator,@user:domain.com:user

# Разрешенные комнаты (формат: room1:read,write,room2:read)
# ALLOWED_ROOMS=!room1:domain.com:read,write,!room2:domain.com:read

# Заблокированные пользователи
# BLOCKED_USERS=@spam:domain.com,@malicious:domain.com

# Администраторы (полный доступ)
# ADMIN_USERS=@admin1:domain.com,@admin2:domain.com

# Модераторы (расширенные права)
# MODERATOR_USERS=@mod1:domain.com,@mod2:domain.com

# =============================================================================
# ЛОГИРОВАНИЕ НАСТРОЙКИ
# =============================================================================

# Уровень логирования (debug, info, warn, error) (по умолчанию: info)
LOG_LEVEL=info

# Формат логов (text, json) (по умолчанию: text)
LOG_FORMAT=text

# Включить временные метки (по умолчанию: true)
LOG_TIMESTAMP=true

# Включить цвета в логах (по умолчанию: true)
LOG_COLORS=true

# Файл для логирования (опционально)
# LOG_FILE=./logs/app.log

# Максимальный размер файла лога (по умолчанию: 10m)
LOG_MAX_SIZE=10m

# Максимальное количество файлов логов (по умолчанию: 5)
LOG_MAX_FILES=5

# =============================================================================
# ПРИЛОЖЕНИЕ НАСТРОЙКИ
# =============================================================================

# Название приложения (по умолчанию: Matrix AI Assistant Drive)
APP_NAME=Matrix AI Assistant Drive

# Версия приложения (по умолчанию: 1.0.0)
APP_VERSION=1.0.0

# Окружение (development, production, test) (по умолчанию: development)
NODE_ENV=development

# Включить режим отладки (по умолчанию: false)
DEBUG=false

# Таймаут graceful shutdown в миллисекундах (по умолчанию: 30000)
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# =============================================================================
# ПРИМЕРЫ КОНФИГУРАЦИИ
# =============================================================================

# Пример для разработки:
# NODE_ENV=development
# LOG_LEVEL=debug
# DEBUG=true
# METRICS_ENABLED=true
# SECURITY_ENABLED=false

# Пример для продакшена:
# NODE_ENV=production
# LOG_LEVEL=info
# DEBUG=false
# METRICS_ENABLED=true
# SECURITY_ENABLED=true
# MATRIX_ENCRYPTION_ENABLED=true

# Пример с ограниченным доступом:
# ALLOWED_USERS=@admin:domain.com:admin,@user1:domain.com:user
# ALLOWED_ROOMS=!main:domain.com:read,write,!support:domain.com:read
# BLOCKED_USERS=@spam:domain.com

# =============================================================================
# ИНСТРУКЦИИ ПО НАСТРОЙКЕ
# =============================================================================

# 1. Скопируйте этот файл в .env
# 2. Заполните обязательные поля (MATRIX_USERNAME, MATRIX_PASSWORD)
# 3. Настройте опциональные сервисы по необходимости
# 4. Для Google Drive создайте Service Account и скачайте JSON ключ
# 5. Для Redis установите и запустите Redis сервер
# 6. Для Ollama установите и запустите Ollama с нужной моделью

# =============================================================================
# ПОДДЕРЖИВАЕМЫЕ ФОРМАТЫ ФАЙЛОВ
# =============================================================================

# Google Drive поддерживает:
# - Google Docs (application/vnd.google-apps.document)
# - Google Sheets (application/vnd.google-apps.spreadsheet)
# - PDF файлы (application/pdf)
# - Excel файлы (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)
# - Word файлы (application/vnd.openxmlformats-officedocument.wordprocessingml.document)

# =============================================================================
# КОМАНДЫ БОТА
# =============================================================================

# Доступные команды:
# !help - Справка по командам
# !ask <вопрос> - Задать вопрос AI
# !search <файл> - Найти файл в Google Drive
# !read <файл> [номер] - Прочитать файл
# !status - Статус бота
# !ping - Проверка доступности

# Административные команды (требуют роль admin):
# !admin_restart - Перезапуск бота
# !admin_config - Показать конфигурацию
# !admin_cache_clear - Очистить кэш
# !admin_metrics - Показать метрики 