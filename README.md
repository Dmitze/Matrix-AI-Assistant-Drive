```markdown
# ü§ñ Matrix AI Chatbot

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Node.js](https://img.shields.io/badge/node-%3E%3D20.0.0-brightgreen.svg)](https://nodejs.org/)
[![Docker](https://img.shields.io/badge/docker-supported-blue.svg)](https://www.docker.com/)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](http://makeapullrequest.com)
[![Telegram](https://img.shields.io/badge/telegram-@Dmitry__Shiva-blue.svg)](https://t.me/Dmitry_Shiva)

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Å–æ–±–æ—é –ø—Ä–æ—Å—É–Ω—É—Ç–æ–≥–æ —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—ó –º–µ—Ä–µ–∂—ñ [Matrix](https://matrix.org/). –ë–æ—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω—É –º–æ–≤–Ω—É –º–æ–¥–µ–ª—å (LLM) —á–µ—Ä–µ–∑ [Ollama](https://ollama.ai/) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π, –º–æ–∂–µ —à—É–∫–∞—Ç–∏ —Ç–∞ –æ–±—Ä–æ–±–ª—è—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∑ Google Drive, –∫–µ—à—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–±–∏—Ä–∞—î –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É. –û—Å–Ω–æ–≤–Ω–∏–π –∞–∫—Ü–µ–Ω—Ç –∑—Ä–æ–±–ª–µ–Ω–æ –Ω–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å, –º–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å, –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å.

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–î–º–∏—Ç—Ä–æ –®–∏–≤–∞—á–æ–≤** - [@Dmitry_Shiva](https://t.me/Dmitry_Shiva)

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ Matrix —Ç–∞ –µ–Ω—Ç—É–∑—ñ–∞—Å—Ç—ñ–≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É.

---

## üìñ –ó–º—ñ—Å—Ç

- [üìñ –ó–º—ñ—Å—Ç](#-–∑–º—ñ—Å—Ç)
- [üë®‚Äçüíª –ê–≤—Ç–æ—Ä](#-–∞–≤—Ç–æ—Ä)
- [üîç –û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É](#-–æ–≥–ª—è–¥-–ø—Ä–æ–µ–∫—Ç—É)
- [üó∫Ô∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞](#Ô∏è-–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞)
- [üß© –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏](#-–∫–ª—é—á–æ–≤—ñ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏)
  - [1. Matrix SDK —Ç–∞ –ª–æ–≥—ñ–∫–∞ –∫–æ–º–∞–Ω–¥](#1-matrix-sdk-—Ç–∞-–ª–æ–≥—ñ–∫–∞-–∫–æ–º–∞–Ω–¥)
  - [2. LLM —á–µ—Ä–µ–∑ Ollama](#2-llm-—á–µ—Ä–µ–∑-ollama)
  - [3. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Google Drive](#3-—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è-–∑-google-drive)
  - [4. –ö–µ—à—É–≤–∞–Ω–Ω—è –≤ Redis](#4-–∫–µ—à—É–≤–∞–Ω–Ω—è-–≤-redis)
  - [5. –ó–±—ñ—Ä —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ç—Ä–∏–∫](#5-–∑–±—ñ—Ä-—Ç–∞-–≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è-–º–µ—Ç—Ä–∏–∫)
  - [6. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è](#6-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è-—Ç–∞-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è)
  - [7. CI/CD —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è](#7-cicd-—Ç–∞-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è)
  - [8. –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏](#8-–∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è-–±–µ–∑–ø–µ–∫–∏)
  - [9. –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ —Ç–∞ –≤—ñ–¥–ª–∞–¥–∫–∞](#9-–ª–æ–∫–∞–ª—å–Ω–∞-—Ä–æ–∑—Ä–æ–±–∫–∞-—Ç–∞-–≤—ñ–¥–ª–∞–¥–∫–∞)
  - [10. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —è–∫—ñ—Å—Ç—å –∫–æ–¥—É](#10-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è-—Ç–∞-—è–∫—ñ—Å—Ç—å-–∫–æ–¥—É)
- [‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫](#Ô∏è-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π-—Å—Ç–µ–∫)
- [üîß –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤](#-–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è-—Ç–∞-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-—Å–µ—Ä–≤—ñ—Å—ñ–≤)
  - [üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏](#-–ø–µ—Ä–µ–¥—É–º–æ–≤–∏)
  - [üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç](#-—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç)
  - [üîß –î–µ—Ç–∞–ª—å–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](#-–¥–µ—Ç–∞–ª—å–Ω–µ-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
  - [üê≥ Docker –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](#-docker-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
  - [üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏](#-–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥-—Ç–∞-–º–µ—Ç—Ä–∏–∫–∏)
  - [üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º](#-–¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞-–ø—Ä–æ–±–ª–µ–º)
- [üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É —Ç–∞ –æ–ø–∏—Å —Ñ–∞–π–ª—ñ–≤](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç—É-—Ç–∞-–æ–ø–∏—Å-—Ñ–∞–π–ª—ñ–≤)
  - [üóÇÔ∏è –û—Å–Ω–æ–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#Ô∏è-–æ—Å–Ω–æ–≤–Ω–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
  - [üìÑ –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ñ–∞–π–ª—ñ–≤](#-–¥–µ—Ç–∞–ª—å–Ω–∏–π-–æ–ø–∏—Å-—Ñ–∞–π–ª—ñ–≤)
- [üöÄ –ü–æ—Ç–µ–Ω—Ü—ñ–∞–ª –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è](#-–ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª-–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è-—Ç–∞-—Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è)
- [üìÜ –†–æ–∞–¥–º–∞–ø —Ä–æ–∑–≤–∏—Ç–∫—É –ø—Ä–æ–µ–∫—Ç—É](#-—Ä–æ–∞–¥–º–∞–ø-—Ä–æ–∑–≤–∏—Ç–∫—É-–ø—Ä–æ–µ–∫—Ç—É)
- [‚úçÔ∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥—É](#Ô∏è-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó-—â–æ–¥–æ-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó-—Ç–∞-–∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥—É)
- [ü§ù –í–Ω–µ—Å–æ–∫ —É –ø—Ä–æ–µ–∫—Ç](#-–≤–Ω–µ—Å–æ–∫-—É-–ø—Ä–æ–µ–∫—Ç)
- [üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è](#-–ª—ñ—Ü–µ–Ω–∑—ñ—è)

---

## üîç –û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É

–ü—Ä–æ–µ–∫—Ç **Matrix AI Chatbot** - —Ü–µ —á–∞—Ç-–±–æ—Ç, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –Ω–∞ **Node.js**, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ –≤ –µ–∫–æ—Å–∏—Å—Ç–µ–º—ñ Matrix. –ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

*   **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ª–æ–∫–∞–ª—å–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—É –º–æ–≤–Ω—É –º–æ–¥–µ–ª—å (LLM) —á–µ—Ä–µ–∑ Ollama –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ –∑–∞–ø–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
*   **–ü–æ—à—É–∫ —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤:** –ú–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ø–æ—à—É–∫ —Ç–∞ –≤–∏—Ç—è–≥—É–≤–∞—Ç–∏ –≤–º—ñ—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ (Google Docs, Sheets) –∑ Google Drive.
*   **–ö–µ—à—É–≤–∞–Ω–Ω—è:** –î–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –≤—ñ–¥–≥—É–∫—É —Ç–∞ –∑–Ω–∏–∂–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ (LLM, Google Drive) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è.
*   **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:** –ó–±—ñ—Ä —Ç–∞ –µ–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–µ—à—É, –ø–æ–º–∏–ª–æ–∫ —Ç–∞ —á–∞—Å—É –≤—ñ–¥–≥—É–∫—É –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó.
*   **–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å:** –í—Å—ñ –¥–∞–Ω—ñ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á—ñ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ —Ö–º–∞—Ä–∏.

**–ö–ª—é—á–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏:**

*   **–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å:** –í—Å—ñ –¥–∞–Ω—ñ —Ç–∞ –∑–∞–ø–∏—Ç–∏ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.
*   **–ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å:** –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ä–æ–∑–¥—ñ–ª–µ–Ω–∞ –Ω–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –º–æ–¥—É–ª—ñ –∑ —á—ñ—Ç–∫–∏–º–∏ API.
*   **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±—É—é—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ Docker –∞–±–æ Kubernetes).
*   **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:** –í–∫–ª—é—á–∞—î –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥, –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–¥—É–º–∞–Ω—É –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫.

---

## üó∫Ô∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
flowchart LR
  subgraph USER_SIDE
    U[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤ Matrix]
  end
  subgraph BOT_SIDE
    MS[Matrix Homeserver] -->|–ü–æ–¥—ñ—è| B(Bot Service)
    B --> R(Router –∫–æ–º–∞–Ω–¥)
    R --> LLM(LLM Processor ‚Äî Ollama)
    R --> GD(Google Drive Handler)
    R --> RC(Redis Cache)
    R --> MC(Metrics Collector)
    B --> S(Security Layer)
    MC --> P[Prometheus]
    P --> G[Grafana]
  end
  U --> MS
  G -->|–î–∞—à–±–æ—Ä–¥–∏| D[–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä]
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**

1.  **Bot Service (`src/bot.js`)**: –û—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å, —è–∫–∏–π —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –∫–ª—ñ—î–Ω—Ç Matrix, –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞ –ø–æ–¥—ñ—ó —Ç–∞ –∫–µ—Ä—É—î –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–∏—Ö.
2.  **Router –∫–æ–º–∞–Ω–¥ (`src/router.js`)**: –ê–Ω–∞–ª—ñ–∑—É—î –≤—Ö—ñ–¥–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –≤–∏–∑–Ω–∞—á–∞—î —Ç–∏–ø –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –Ω–∞–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–º—É –æ–±—Ä–æ–±–Ω–∏–∫—É.
3.  **LLM Processor (`src/llm.js`)**: –ú–æ–¥—É–ª—å –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ Ollama. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç–∏, –æ—Ç—Ä–∏–º—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Ç–∞ –º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ —Å—Ç—Ä—ñ–º—ñ–Ω–≥.
4.  **Google Drive Handler (`src/gdrive.js`)**: –ú–æ–¥—É–ª—å –¥–ª—è –ø–æ—à—É–∫—É —Ñ–∞–π–ª—ñ–≤ –∑–∞ –Ω–∞–∑–≤–æ—é —Ç–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è —ó—Ö –≤–º—ñ—Å—Ç—É (Docs, Sheets).
5.  **Redis Cache (`src/cache.js`)**: –†–µ–∞–ª—ñ–∑—É—î –∫–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ LLM —Ç–∞ Google Drive.
6.  **Metrics Collector (`src/metrics.js`)**: –ó–±–∏—Ä–∞—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –Ω–∞–¥–∞—î —ó—Ö —á–µ—Ä–µ–∑ HTTP-–µ–Ω–¥–ø–æ—ñ–Ω—Ç –¥–ª—è –∑–±–æ—Ä—É Prometheus.
7.  **Security Layer (`src/security.js`)**: –ü–µ—Ä–µ–≤—ñ—Ä—è—î –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É (ACL), –∫–µ—Ä—É—î —Ç–æ–∫–µ–Ω–∞–º–∏ —Ç–∞ –º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è (E2E).
8.  **Prometheus**: –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –∑–±–æ—Ä—É –º–µ—Ç—Ä–∏–∫.
9.  **Grafana**: –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–µ—Ç—Ä–∏–∫, –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –∑ Prometheus.

---

## üß© –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. Matrix SDK —Ç–∞ –ª–æ–≥—ñ–∫–∞ –∫–æ–º–∞–Ω–¥

**–ú–µ—Ç–∞:** –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –ø—Ä–∏–π–æ–º —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∫–æ–º–∞–Ω–¥ —Ç–∞ –±–∞–∑–æ–≤—É –æ–±—Ä–æ–±–∫—É –ø–æ–¥—ñ–π.

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:**

*   **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞:** `matrix-js-sdk@^18.0.0`
*   **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç–∞:**
     ```javascript
     // src/bot.js –∞–±–æ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–∏–π —Ñ–∞–π–ª
     import { createClient } from "matrix-js-sdk";

     const client = createClient({
       baseUrl: process.env.MATRIX_HOMESERVER_URL, // e.g., https://matrix.example.com
       accessToken: process.env.MATRIX_ACCESS_TOKEN, // –û—Ç—Ä–∏–º—É—î—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–æ—Ç–∞
       userId: process.env.MATRIX_USER_ID, // @bot_user:example.com
     });

     client.startClient({ initialSyncLimit: 10 });
     ```
*   **–ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–¥—ñ—ó:**
     ```javascript
     // src/bot.js –∞–±–æ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–∏–π —Ñ–∞–π–ª
     client.on("Room.timeline", (event, room, toStartOfTimeline) => {
       if (event.getType() !== "m.room.message" || toStartOfTimeline || event.isRedacted()) {
         return;
       }
       // –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ –≤–ª–∞—Å–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
       if (event.getSender() === client.getUserId()) {
         return;
       }
       handleMessage(event, room, client);
     });
     ```
*   **–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–∞–Ω–¥:** –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —â–æ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ –ø—Ä–µ—Ñ—ñ–∫—Å–∞ `!`, —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—é—Ç—å—Å—è —è–∫ –∫–æ–º–∞–Ω–¥–∏.
     *   –ü—Ä–∏–∫–ª–∞–¥: `!ask –Ø–∫–∞ –ø–æ–≥–æ–¥–∞ —Å—å–æ–≥–æ–¥–Ω—ñ?`
     *   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ—Å—Ç–∏–π –ø–∞—Ä—Å–∏–Ω–≥, –∞–ª–µ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –º–æ–∂–Ω–∞ –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö (Trie/FSM) –¥–ª—è O(1) —Ä–æ–∑–±–æ—Ä—É.
*   **–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:**
     ```javascript
     // src/utils.js –∞–±–æ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–∏–π —Ñ–∞–π–ª
     export async function sendMessage(client, roomId, text) {
       try {
         await client.sendTextMessage(roomId, text);
       } catch (error) {
         console.error(`–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫—ñ–º–Ω–∞—Ç—É ${roomId}:`, error);
       }
     }
     ```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**

*   –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—é –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑–∞ `event.getId()` –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø–æ–¥–≤—ñ–π–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏.
*   –î–æ–¥–∞—Ç–∏ rate-limiting —Ç–∞ —Å–ø–∞–º-—Ñ—ñ–ª—å—Ç—Ä–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∞ –∫–æ–º–∞–Ω–¥.

---

### 2. LLM —á–µ—Ä–µ–∑ Ollama

**–ú–µ—Ç–∞:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω—É LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:**

*   **Ollama:** –°–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫—É —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ LLM. –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —è–∫ –æ–∫—Ä–µ–º–∏–π —Å–µ—Ä–≤—ñ—Å.
     *   –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è: `curl https://ollama.ai/install.sh | sh`
     *   –ó–∞–ø—É—Å–∫ –º–æ–¥–µ–ª—ñ: `ollama run llama3` (–∞–±–æ `mistral`, `gemma`)
*   **API:** Ollama –Ω–∞–¥–∞—î REST API –Ω–∞ `http://localhost:11434`.
*   **–ú–æ–¥—É–ª—å –æ–±–≥–æ—Ä—Ç–∫–∏ (`src/llm.js`):**
     ```javascript
     import axios from "axios";

     export async function generateLLM(prompt, opts = {}) {
       try {
         const response = await axios.post(`${process.env.OLLAMA_HOST}/api/generate`, {
           model: opts.model || "llama3",
           prompt,
           stream: opts.stream || false,
           options: {
             num_predict: opts.maxTokens || 512,
             temperature: opts.temperature || 0.7,
           },
         });
         return response.data.response; // –î–ª—è –Ω–µ-—Å—Ç—Ä—ñ–º—ñ–Ω–≥—É
         // –î–ª—è —Å—Ç—Ä—ñ–º—ñ–Ω–≥—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –ø–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö
       } catch (error) {
         console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É LLM:", error.message);
         throw error;
       }
     }
     ```
*   **–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä–æ–≥—Ä—ñ–≤ (warm-up):** –ü—Ä–∏ –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞ –º–æ–∂–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø–∏—Ç –¥–æ –º–æ–¥–µ–ª—ñ, —â–æ–± –≤–æ–Ω–∞ –±—É–ª–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ –≤ –ø–∞–º'—è—Ç—å.
*   **–°—Ç—Ä—ñ–º—ñ–Ω–≥:** –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—Ç—Ä—ñ–º—ñ–Ω–≥—É –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —á–∞—Å—Ç–∏–Ω–∞–º–∏, –∑–º–µ–Ω—à—É—é—á–∏ –≤—ñ–¥—á—É—Ç–Ω—É –∑–∞—Ç—Ä–∏–º–∫—É.

**–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:**

*   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—ñ–ª—å—à –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤—ñ –º–æ–¥–µ–ª—ñ –¥–ª—è —à–≤–∏–¥–∫–∏—Ö, –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.
*   –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—Ç–∏ –º–æ–¥–µ–ª—å –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –¥–æ–≤–∂–∏–Ω–∏ –∑–∞–ø–∏—Ç—É –∞–±–æ —Ç–∏–ø—É –∑–∞–¥–∞—á—ñ.
*   –î–ª—è –≤–∏—Å–æ–∫–æ–Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —á–µ—Ä–≥–∏ –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, BullMQ) –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ LLM —É —Ñ–æ–Ω—ñ.

---

### 3. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Google Drive

**–ú–µ—Ç–∞:** –ù–∞–¥–∞—Ç–∏ –±–æ—Ç—É –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —à—É–∫–∞—Ç–∏ —Ç–∞ —á–∏—Ç–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∑ Google Drive.

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:**

*   **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞:** `googleapis@^39.2.0`
*   **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞:**
     1.  –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/).
     2.  –£–≤—ñ–º–∫–Ω—ñ—Ç—å Google Drive API —Ç–∞ Google Docs API.
     3.  –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å–Ω–∏–π –∞–∫–∞—É–Ω—Ç —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ JSON-–∫–ª—é—á.
     4.  –ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –ø–æ—Ç—Ä—ñ–±–Ω–∏–º–∏ –ø–∞–ø–∫–∞–º–∏/—Ñ–∞–π–ª–∞–º–∏ Google Drive –∑ email —Å–µ—Ä–≤—ñ—Å–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞.
*   **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (`src/gdrive.js`):**
     ```javascript
     import { google } from "googleapis";
     import fs from "fs";

     const auth = new google.auth.GoogleAuth({
       keyFile: process.env.GOOGLE_CREDENTIALS_PATH, // –®–ª—è—Ö –¥–æ JSON-—Ñ–∞–π–ª—É –∫–ª—é—á–∞
       scopes: [
         "https://www.googleapis.com/auth/drive.readonly",
         "https://www.googleapis.com/auth/documents.readonly",
         "https://www.googleapis.com/auth/spreadsheets.readonly"
       ],
     });

     const drive = google.drive({ version: "v3", auth });
     const docs = google.docs({ version: "v1", auth });
     const sheets = google.sheets({ version: "v4", auth });
     ```
*   **–ü–æ—à—É–∫ —Ñ–∞–π–ª—É:**
     ```javascript
     // src/gdrive.js
     export async function findFile(query) {
       try {
         const res = await drive.files.list({
           q: `name contains '${query}' and mimeType != 'application/vnd.google-apps.folder'`,
           fields: "files(id, name, mimeType)",
           pageSize: 10,
         });
         return res.data.files;
       } catch (error) {
         console.error("–ü–æ–º–∏–ª–∫–∞ –ø–æ—à—É–∫—É —Ñ–∞–π–ª—É –≤ Google Drive:", error.message);
         throw error;
       }
     }
     ```
*   **–ß–∏—Ç–∞–Ω–Ω—è –≤–º—ñ—Å—Ç—É:**
     ```javascript
     // src/gdrive.js
     export async function readDocumentContent(fileId, mimeType) {
       try {
         if (mimeType === "application/vnd.google-apps.document") {
           const doc = await docs.documents.get({ documentId: fileId });
           // –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –∑—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
           return doc.data.body.content.map(e => e.paragraph?.elements?.map(el => el.textRun?.content).join('')).join('');
         } else if (mimeType === "application/vnd.google-apps.spreadsheet") {
           const sheet = await sheets.spreadsheets.values.get({ spreadsheetId: fileId, range: "A1:Z1000" });
           // –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤ —Ä—è–¥–æ–∫ (–ø—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥)
           return sheet.data.values.map(row => row.join('\t')).join('\n');
         } else {
           throw new Error(`–ù–µ–ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏–π —Ç–∏–ø —Ñ–∞–π–ª—É: ${mimeType}`);
         }
       } catch (error) {
         console.error("–ü–æ–º–∏–ª–∫–∞ —á–∏—Ç–∞–Ω–Ω—è –≤–º—ñ—Å—Ç—É —Ñ–∞–π–ª—É:", error.message);
         throw error;
       }
     }
     ```

**–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:**

*   –ö–µ—à—É–≤–∞—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω—ñ –∑–Ω–∞–π–¥–µ–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ (ID, —ñ–º'—è, MIME-—Ç–∏–ø) –≤ Redis.
*   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ `fields` —Ç–∞ `q` –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –æ–±—Å—è–≥—É –ø–µ—Ä–µ–¥–∞–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
*   –ü—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ –∫—ñ–ª—å–∫–æ—Ö —Ñ–∞–π–ª—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ batch-–∑–∞–ø–∏—Ç–∏ –∞–±–æ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º.

---

### 4. –ö–µ—à—É–≤–∞–Ω–Ω—è –≤ Redis

**–ú–µ—Ç–∞:** –ó–Ω–∏–∑–∏—Ç–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ LLM —Ç–∞ Google Drive API, –ø—Ä–∏—Å–∫–æ—Ä–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏.

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:**

*   **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞:** `redis@^4.0.0`
*   **–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (`src/cache.js`):**
     ```javascript
     import { createClient } from "redis";

     let redisClient;

     export async function connectRedis() {
       redisClient = createClient({ url: process.env.REDIS_URL }); // redis://localhost:6379
       redisClient.on("error", (err) => console.error("–ü–æ–º–∏–ª–∫–∞ Redis:", err));
       await redisClient.connect();
       console.log("–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Redis –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.");
     }

     export function getRedisClient() {
       return redisClient;
     }
     ```
*   **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ —á–∏—Ç–∞–Ω–Ω—è (`src/cache.js`):**
     ```javascript
     import crypto from "crypto";

     function hashPrompt(prompt) {
       return crypto.createHash('md5').update(prompt).digest('hex');
     }

     export async function getCachedResponse(userId, prompt) {
       const key = `cache:${userId}:${hashPrompt(prompt)}`;
       const cached = await getRedisClient().get(key);
       return cached ? JSON.parse(cached) : null;
     }

     export async function setCachedResponse(userId, prompt, response, ttl = 3600) {
       const key = `cache:${userId}:${hashPrompt(prompt)}`;
       await getRedisClient().set(key, JSON.stringify(response), { EX: ttl });
     }
     ```
*   **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –æ–±—Ä–æ–±–Ω–∏–∫—É:**
     ```javascript
     // src/router.js –∞–±–æ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ–º—É –º—ñ—Å—Ü—ñ
     const cachedResponse = await getCachedResponse(userId, userPrompt);
     if (cachedResponse) {
         // –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∫–µ—à–æ–≤–∞–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
         metrics.incrementCacheHit();
         return cachedResponse;
     }
     // ... –≤–∏–∫–ª–∏–∫ LLM –∞–±–æ Drive ...
     await setCachedResponse(userId, userPrompt, finalResponse);
     ```

**–ü—Ä–æ—Å—É–Ω—É—Ç—ñ –ø—ñ–¥—Ö–æ–¥–∏:**

*   –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø–æ–ª—ñ—Ç–∏–∫—É –≤–∏—Ç—ñ—Å–Ω–µ–Ω–Ω—è (LRU) –Ω–∞ —Ä—ñ–≤–Ω—ñ Redis (`maxmemory-policy allkeys-lru`).
*   –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ "—Ç–µ–ø–ª–∏–π –∫–µ—à" - –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –≤ –∫–µ—à –ø–æ–ø—É–ª—è—Ä–Ω—ñ –∞–±–æ —á–∞—Å—Ç–æ –∑–∞–ø–∏—Ç—É–≤–∞–Ω—ñ –¥–∞–Ω—ñ.
*   –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ `cache_hits_total` —Ç–∞ `cache_misses_total` –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.

---

### 5. –ó–±—ñ—Ä —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ç—Ä–∏–∫

**–ú–µ—Ç–∞:** –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∫–µ—à—É.

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:**

*   **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞:** `prom-client@^13.0.0`
*   **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (`src/metrics.js`):**
     ```javascript
     import client from 'prom-client';

     const register = new client.Registry();
     client.collectDefaultMetrics({ register });

     const requestCounter = new client.Counter({
       name: 'bot_requests_total',
       help: '–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–æ—Ç–∞',
       labelNames: ['command'],
     });

     const llmLatencyHistogram = new client.Histogram({
       name: 'llm_latency_seconds',
       help: '–ß–∞—Å –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É LLM',
       buckets: [0.1, 0.5, 1, 2, 5, 10],
     });

     const driveErrorsCounter = new client.Counter({
       name: 'drive_errors_total',
       help: '–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ –ø—Ä–∏ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ Google Drive',
     });

     const cacheHitsCounter = new client.Counter({
       name: 'cache_hits_total',
       help: '–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–ø–∞–¥–∞–Ω—å –≤ –∫–µ—à',
     });

     const cacheMissesCounter = new client.Counter({
       name: 'cache_misses_total',
       help: '–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ–º–∞—Ö—ñ–≤ –∫–µ—à—É',
     });

     register.registerMetric(requestCounter);
     register.registerMetric(llmLatencyHistogram);
     register.registerMetric(driveErrorsCounter);
     register.registerMetric(cacheHitsCounter);
     register.registerMetric(cacheMissesCounter);

     export { register, requestCounter, llmLatencyHistogram, driveErrorsCounter, cacheHitsCounter, cacheMissesCounter };
     ```
*   **–ï–∫—Å–ø–æ–Ω—É–≤–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫:**
     ```javascript
     // src/server.js (–∞–±–æ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª –¥–ª—è –º–µ—Ç—Ä–∏–∫)
     import express from 'express';
     import { register } from './metrics.js';

     const app = express();

     app.get('/metrics', async (req, res) => {
       try {
         res.set('Content-Type', register.contentType);
         res.end(await register.metrics());
       } catch (ex) {
         res.status(500).end(ex);
       }
     });

     app.listen(9090, '0.0.0.0', () => {
       console.log('–ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞ –∞–¥—Ä–µ—Å–æ—é http://0.0.0.0:9090/metrics');
     });
     ```

**–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è:**

*   **Prometheus:** –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É, —è–∫–∞ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ —Å–∫—Ä–µ–π–ø–∏—Ç—å `/metrics`.
     *   –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (`prometheus.yml`):
         ```yaml
         scrape_configs:
           - job_name: 'matrix-bot'
             static_configs:
               - targets: ['bot:9090'] # –Ü–º'—è —Å–µ—Ä–≤—ñ—Å—É –≤ docker-compose
         ```
*   **Grafana:** –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó, –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ Prometheus —è–∫ –¥–∂–µ—Ä–µ–ª—É –¥–∞–Ω–∏—Ö.
     *   –°—Ç–≤–æ—Ä—ñ—Ç—å –¥–∞—à–±–æ—Ä–¥–∏ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è:
         *   –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ (`bot_requests_total`)
         *   –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –≤—ñ–¥–≥—É–∫—É LLM (`rate(llm_latency_seconds_sum[5m]) / rate(llm_latency_seconds_count[5m])`)
         *   –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ Google Drive (`increase(drive_errors_total[5m])`)
         *   –í—ñ–¥—Å–æ—Ç–æ–∫ –ø–æ–ø–∞–¥–∞–Ω—å –≤ –∫–µ—à (`rate(cache_hits_total[5m]) / (rate(cache_hits_total[5m]) + rate(cache_misses_total[5m]))`)

---

### 6. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è

**–ú–µ—Ç–∞:** –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω—ñ—Å—Ç—å —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ production.

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:**

*   **Dockerfile (`Dockerfile`):**
     ```dockerfile
     FROM node:20-alpine

     WORKDIR /app

     # –ö–æ–ø—ñ—é—î–º–æ package.json —Ç–∞ package-lock.json (—è–∫—â–æ —î) –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
     COPY package*.json ./

     # –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
     RUN npm ci --only=production

     # –ö–æ–ø—ñ—é—î–º–æ –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥
     COPY . .

     # –í—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –ø–æ—Ä—Ç –¥–ª—è –º–µ—Ç—Ä–∏–∫ (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)
     EXPOSE 9090

     # –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É
     CMD ["node", "src/index.js"] # –∞–±–æ —ñ–Ω—à–∏–π –≥–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª
     ```
*   **docker-compose.yml (`docker-compose.yml`):**
     ```yaml
     version: "3.8"

     services:
       bot:
         build: .
         env_file:
           - .env
         depends_on:
           - redis
           - ollama # –Ø–∫—â–æ Ollama —Ç–µ–∂ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
         ports:
           - "9090:9090" # –î–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –º–µ—Ç—Ä–∏–∫
         volumes:
           - ./credentials:/app/credentials # –ú–æ–Ω—Ç—É—î–º–æ –ø–∞–ø–∫—É –∑ –∫–ª—é—á–∞–º–∏ Google

       redis:
         image: redis:7-alpine
         ports:
           - "6379:6379"

       ollama: # –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, —è–∫—â–æ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ Ollama –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
         image: ollama/ollama:latest
         ports:
           - "11434:11434"
         volumes:
           - ollama:/root/.ollama
         # –ó–∞–ø—É—Å–∫ –º–æ–¥–µ–ª—ñ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
         command: ["/bin/sh", "-c", "ollama serve & sleep 5 && ollama run llama3 && wait"]

       prometheus:
         image: prom/prometheus
         ports:
           - "9091:9090" # Prometheus UI
         volumes:
           - ./prometheus.yml:/etc/prometheus/prometheus.yml
           - prometheus_data:/prometheus
         command:
           - '--config.file=/etc/prometheus/prometheus.yml'
           - '--storage.tsdb.path=/prometheus'
           - '--web.console.libraries=/etc/prometheus/console_libraries'
           - '--web.console.templates=/etc/prometheus/consoles'
           - '--storage.tsdb.retention.time=200h'
           - '--web.enable-lifecycle'

       grafana:
         image: grafana/grafana-oss
         ports:
           - "3000:3000"
         volumes:
           - grafana_data:/var/lib/grafana
         depends_on:
           - prometheus
         environment:
           - GF_SECURITY_ADMIN_PASSWORD=admin # –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Å–≤—ñ–π –ø–∞—Ä–æ–ª—å

     volumes:
       ollama:
       prometheus_data:
       grafana_data:
     ```

**–ü—Ä–æ—Å—É–Ω—É—Ç—ñ:**

*   –°—Ç–≤–æ—Ä–∏—Ç–∏ **Helm-—á–∞—Ä—Ç–∏** –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ **Kubernetes**.
*   –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ **–∞–≤—Ç–æ-–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è** (HPA) –¥–ª—è –ø–æ–¥—ñ–≤ –±–æ—Ç–∞ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
*   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **sidecar-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Fluentd/Fluent-bit) –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –∑–±–æ—Ä—É –ª–æ–≥—ñ–≤.

---

### 7. CI/CD —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è

**–ú–µ—Ç–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, –∑–±—ñ—Ä–∫–∏ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è.

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:**

*   **GitHub Actions (`.github/workflows/ci.yml`):**
    ```yaml
    name: CI/CD Pipeline

    on:
      push:
        branches: [ main ]
      pull_request:
        branches: [ main ]

    jobs:
      build-and-test:
        runs-on: ubuntu-latest

        steps:
        - uses: actions/checkout@v3

        - name: Setup Node.js
          uses: actions/setup-node@v3
          with:
            node-version: '20'
            cache: 'npm'

        - name: Install dependencies
          run: npm ci

        - name: Run linter
          run: npm run lint

        - name: Run tests
          run: npm run test

      build-and-publish:
        needs: build-and-test
        if: github.ref == 'refs/heads/main' # –¢—ñ–ª—å–∫–∏ –¥–ª—è main –≥—ñ–ª–∫–∏
        runs-on: ubuntu-latest

        steps:
        - uses: actions/checkout@v3

        - name: Set up Docker Buildx
          uses: docker/setup-buildx-action@v2

        - name: Login to DockerHub
          uses: docker/login-action@v2
          with:
            username: ${{ secrets.DOCKER_USERNAME }}
            password: ${{ secrets.DOCKER_PASSWORD }}

        - name: Extract metadata (tags, labels) for Docker
          id: meta
          uses: docker/metadata-action@v4
          with:
            images: myorg/matrix-ai-chatbot

        - name: Build and push Docker image
          uses: docker/build-push-action@v4
          with:
            context: .
            push: true
            tags: ${{ steps.meta.outputs.tags }}
            labels: ${{ steps.meta.outputs.labels }}
    ```
*   **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è:**
    *   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `dependabot` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PR –∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.
    *   –£–≤—ñ–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å–∫–∞–Ω–µ—Ä–∏ –±–µ–∑–ø–µ–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Snyk, Dependabot Security Alerts).
    *   –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π **rollback** –ø—Ä–∏ –Ω–µ–≤–¥–∞–ª–æ–º—É —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—ñ.

---

### 8. –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏

**–ú–µ—Ç–∞:** –ó–∞—Ö–∏—Å—Ç–∏—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.

**–ü—Ä–∞–∫—Ç–∏–∫–∏:**

*   **E2E-—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ `matrix-js-sdk` –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏ –∫—ñ–º–Ω–∞—Ç–∞–º–∏ (–ø–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ–≥–æ–ª—ñ—Å—Ç—ñ–≤).
*   **ACL (Access Control List):** –û–±–º–µ–∂—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫—ñ–º–Ω–∞—Ç –∞–±–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
*   **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏:**
    *   –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ (—Ç–æ–∫–µ–Ω–∏, –∫–ª—é—á—ñ) –≤ `.env` —Ñ–∞–π–ª—ñ.
    *   –í production –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **Vault** –∞–±–æ **GitHub Secrets**.
    *   –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç–∏—Ç–∏ `.env` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π.
*   **Rate-limiting:** –û–±–º–µ–∂—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ –ø–µ–≤–Ω–∏–π –ø—Ä–æ–º—ñ–∂–æ–∫ —á–∞—Å—É.
*   **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö:** –°–∞–Ω—ñ—Ç–∏–∑—É–≤–∞—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤—Å—ñ –≤—Ö—ñ–¥–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ –∫–æ–º–∞–Ω–¥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —à–∫—ñ–¥–ª–∏–≤–æ–≥–æ –∫–æ–¥—É –∞–±–æ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤.
*   **2FA –¥–ª—è Google:** –£–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –¥–ª—è —Å–µ—Ä–≤—ñ—Å–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞ Google (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è).

---

### 9. –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ —Ç–∞ –≤—ñ–¥–ª–∞–¥–∫–∞

**–ú–µ—Ç–∞:** –°–ø—Ä–æ—Å—Ç–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

**–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:**

*   **dotenv:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑ —Ñ–∞–π–ª—É `.env`.
*   **nodemon:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î Node.js –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ñ–∞–π–ª—ñ–≤.
    *   –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è: `npm install -g nodemon`
    *   –ó–∞–ø—É—Å–∫: `nodemon src/index.js`
*   **Mock-—Å–µ—Ä–≤—ñ—Å–∏:**
    *   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `msw` (Mock Service Worker) –∞–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ—Å—Ç–∏–π Express-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –µ–º—É–ª—è—Ü—ñ—ó Ollama API.
    *   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `WireMock` –∞–±–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ –º–æ–∫–∏ –¥–ª—è Google Drive API –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤.
*   **VS Code:**
    *   –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ `launch.json` –¥–ª—è –∑–∞–ø—É—Å–∫—É —Ç–∞ –≤—ñ–¥–ª–∞–¥–∫–∏ –¥–æ–¥–∞—Ç–∫—É –ø—Ä—è–º–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ.
    *   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è: ESLint, Prettier, Debugger for Chrome/Node.js.

---

### 10. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —è–∫—ñ—Å—Ç—å –∫–æ–¥—É

**–ú–µ—Ç–∞:** –ì–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω—É —Ä–æ–±–æ—Ç—É, –∑–∞–ø–æ–±—ñ–≥–∞—Ç–∏ —Ä–µ–≥—Ä–µ—Å—ñ—è–º —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤–∏—Å–æ–∫—É —è–∫—ñ—Å—Ç—å –∫–æ–¥—É.

**–ü—ñ–¥—Ö–æ–¥–∏:**

*   **Unit-—Ç–µ—Å—Ç–∏:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **Jest** –∞–±–æ **Mocha** –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é **Sinon** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–∫—ñ–≤.
    *   –ü—Ä–∏–∫–ª–∞–¥ unit-—Ç–µ—Å—Ç—É (`tests/llm.test.js`):
        ```javascript
        import { generateLLM } from '../src/llm';
        import axios from 'axios';
        import MockAdapter from 'axios-mock-adapter';

        const mock = new MockAdapter(axios);

        describe('LLM Module', () => {
          afterEach(() => {
            mock.reset();
          });

          it('should return generated text', async () => {
            const mockResponse = { response: '–ü—Ä–∏–≤—ñ—Ç, —Å–≤—ñ—Ç!' };
            mock.onPost(`${process.env.OLLAMA_HOST}/api/generate`).reply(200, mockResponse);

            const result = await generateLLM('Say hello');
            expect(result).toBe('–ü—Ä–∏–≤—ñ—Ç, —Å–≤—ñ—Ç!');
          });

          it('should handle API errors', async () => {
            mock.onPost(`${process.env.OLLAMA_HOST}/api/generate`).networkError();

            await expect(generateLLM('Error test')).rejects.toThrow('Network Error');
          });
        });
        ```
*   **Integration-tests:** –ó–∞–ø—É—Å–∫–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏ (Redis, Ollama, Google API –∑ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏).
*   **Contract-tests:** –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, —â–æ API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –≤–∏–∑–Ω–∞—á–µ–Ω–∏–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º.
*   **Static Analysis:**
    *   **ESLint:** –î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É —Ç–∞ —Å—Ç–∏–ª—é –∫–æ–¥—É.
    *   **Prettier:** –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É.
    *   **TypeScript:** (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –î–ª—è —Å—Ç–∞—Ç–∏—á–Ω–æ—ó —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó (—è–∫—â–æ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∏–π –∞–±–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º TS).
*   **Coverage:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **Istanbul** (–≤–±—É–¥–æ–≤–∞–Ω–∏–π –≤ Jest) –¥–ª—è –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –ø–æ–∫—Ä–∏—Ç—Ç—è –∫–æ–¥—É —Ç–µ—Å—Ç–∞–º–∏. –ó–≤—ñ—Ç –º–æ–∂–Ω–∞ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–∞ CI.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä—ñ—è             | –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ / –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏                          | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                                                                 |
|-----------------------|---------------------------------------------------|----------------------------------------------------------------------------|
| –ú–æ–≤–∞                  | Node.js 20, ECMAScript Modules (ESM)              | –û—Å–Ω–æ–≤–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞                                                         |
| Matrix SDK            | `matrix-js-sdk`                                   | –†–æ–±–æ—Ç–∞ –∑ Matrix-homeserver (–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –ø–æ–¥—ñ—ó, E2E)                       |
| LLM                   | Ollama (llama3, mistral, gemma)                   | –ü—Ä–∏–≤–∞—Ç–Ω–∞ –º–æ–≤–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π                            |
| Google API            | `googleapis`                                      | –î–æ—Å—Ç—É–ø –¥–æ Google Drive, Docs, Sheets                                        |
| –ö–µ—à—É–≤–∞–Ω–Ω—è             | Redis, `redis` (Node.js –∫–ª—ñ—î–Ω—Ç)                   | –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤                                               |
| –ß–µ—Ä–≥–∏ –∑–∞–¥–∞—á           | BullMQ, Redis Streams                             | –ü–æ–±—É–¥–æ–≤–∞ —Ñ–æ–Ω–æ–≤–∏—Ö –∑–∞–¥–∞—á (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è)                 |
| –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥            | `prom-client`, Prometheus, Grafana                | –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –¥–∞—à–±–æ—Ä–¥–∏                                                         |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏            | Docker, Docker Compose, Kubernetes (–¥–ª—è prod)     | –Ü–∑–æ–ª—è—Ü—ñ—è, –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏                        |
| CI/CD                 | GitHub Actions                                    | –ê–≤—Ç–æ—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, –∑–±—ñ—Ä–∫–∞ —Ç–∞ –¥–µ–ø–ª–æ–π                                          |
| –ë–µ–∑–ø–µ–∫–∞               | Dotenv, Vault, HTTPS, E2E —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è               | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏, –∑–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö, –±–µ–∑–ø–µ—á–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞                   |
| –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞     | nodemon, msw, WireMock                            | –®–≤–∏–¥–∫–∏–π —Ü–∏–∫–ª —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ –µ–º—É–ª—è—Ü—ñ—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤                        |
| –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è            | Jest, Sinon, axios-mock-adapter, Supertest        | Unit, Integration, Contract tests                                          |
| –ê–Ω–∞–ª—ñ–∑ –∫–æ–¥—É           | ESLint, Prettier                                  | Static analysis, —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è                                            |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è          | Markdown, Mermaid, Swagger/OpenAPI (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)  | –û–ø–∏—Å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏, –¥—ñ–∞–≥—Ä–∞–º–∏, —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó API                          |

---

## üîß –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤

### üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–æ—Ç–∞ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏:

#### 1. Node.js —Ç–∞ npm
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Node.js 20+ (Ubuntu/Debian)
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ—ó
node --version  # –ü–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ 20.x –∞–±–æ –≤–∏—â–µ
npm --version
```

#### 2. Redis (–¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è)
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install redis-server

# –ó–∞–ø—É—Å–∫ Redis
sudo systemctl start redis-server
sudo systemctl enable redis-server

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏
redis-cli ping  # –ü–æ–≤–∏–Ω–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ PONG
```

#### 3. Ollama (–¥–ª—è LLM)
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Ollama
curl -fsSL https://ollama.ai/install.sh | sh

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
ollama serve

# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ (–≤ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ)
ollama pull llama3:8b  # –∞–±–æ mistral:7b, gemma:2b
```

#### 4. Google Cloud Project (–¥–ª—è Google Drive)
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –£–≤—ñ–º–∫–Ω—ñ—Ç—å Google Drive API —Ç–∞ Google Docs API
3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å–Ω–∏–π –∞–∫–∞—É–Ω—Ç
4. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ JSON-–∫–ª—é—á
5. –ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –ø–∞–ø–∫–∞–º–∏ Google Drive –∑ email —Å–µ—Ä–≤—ñ—Å–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞

### üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

#### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone https://github.com/your-username/matrix-ai-chatbot.git
cd matrix-ai-chatbot
```

#### –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
npm install
```

#### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# –ö–æ–ø—ñ—é—î–º–æ —Ñ–∞–π–ª –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
cp env.example .env

# –†–µ–¥–∞–≥—É—î–º–æ .env —Ñ–∞–π–ª
nano .env
```

#### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Matrix –±–æ—Ç–∞
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–æ—Ç–∞ –Ω–∞ –≤–∞—à–æ–º—É Matrix —Å–µ—Ä–≤–µ—Ä—ñ
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ access token —á–µ—Ä–µ–∑ Element –∞–±–æ API
3. –î–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ –∫—ñ–º–Ω–∞—Ç—É

#### –ö—Ä–æ–∫ 5: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤
```bash
# –ë–∞–∑–æ–≤–∏–π —Ç–µ—Å—Ç
npm run test:basic

# –î–µ—Ç–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç
npm run test:detailed

# –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π —Ç–µ—Å—Ç
npm run test:enhanced
```

#### –ö—Ä–æ–∫ 6: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
# –†–æ–∑—Ä–æ–±–∫–∞ (–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º)
npm run dev

# –ü—Ä–æ–¥–∞–∫—à–Ω
npm start
```

### üîß –î–µ—Ç–∞–ª—å–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

#### Matrix Homeserver
```bash
# –ü—Ä–∏–∫–ª–∞–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –¥–ª—è .env
MATRIX_HOMESERVER_URL=https://matrix.example.com
MATRIX_USER_ID=@bot:example.com
MATRIX_ACCESS_TOKEN=syt_...
MATRIX_ROOM_ID=!room:example.com
```

#### Redis –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```bash
# redis.conf (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
maxmemory 256mb
maxmemory-policy allkeys-lru
save 900 1
save 300 10
save 60 10000
```

#### Ollama –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π
ollama pull llama3:8b
ollama pull mistral:7b
ollama pull gemma:2b

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π
ollama list
```

#### Google Drive –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
1. –ü–æ–º—ñ—Å—Ç—ñ—Ç—å JSON-–∫–ª—é—á –≤ `credentials/google-service-account.json`
2. –î–æ–¥–∞–π—Ç–µ –≤ .env:
```bash
GOOGLE_CREDENTIALS_PATH=./credentials/google-service-account.json
GOOGLE_DRIVE_FOLDER_ID=your_folder_id
```

### üê≥ Docker –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

#### –ó–∞–ø—É—Å–∫ –∑ Docker Compose
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose up -d

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs -f bot

# –ó—É–ø–∏–Ω–∫–∞
docker-compose down
```

#### –û–∫—Ä–µ–º—ñ —Å–µ—Ä–≤—ñ—Å–∏
```bash
# –¢—ñ–ª—å–∫–∏ Redis
docker run -d --name redis -p 6379:6379 redis:7-alpine

# –¢—ñ–ª—å–∫–∏ Ollama
docker run -d --name ollama -p 11434:11434 ollama/ollama:latest

# –¢—ñ–ª—å–∫–∏ Prometheus
docker run -d --name prometheus -p 9090:9090 prom/prometheus
```

### üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

#### Prometheus –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```yaml
# prometheus.yml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'matrix-bot'
    static_configs:
      - targets: ['localhost:9090']
```

#### Grafana –¥–∞—à–±–æ—Ä–¥–∏
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:3000
2. –õ–æ–≥—ñ–Ω: admin, –ø–∞—Ä–æ–ª—å: admin
3. –î–æ–¥–∞–π—Ç–µ Prometheus —è–∫ –¥–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö
4. –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ –≥–æ—Ç–æ–≤—ñ –¥–∞—à–±–æ—Ä–¥–∏

### üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω—å
```bash
# Redis
redis-cli ping

# Ollama
curl http://localhost:11434/api/tags

# Google Drive (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
curl -H "Authorization: Bearer $GOOGLE_TOKEN" \
  "https://www.googleapis.com/drive/v3/files"
```

#### –õ–æ–≥–∏ —Ç–∞ –≤—ñ–¥–ª–∞–¥–∫–∞
```bash
# –í–∫–ª—é—á–µ–Ω–Ω—è –¥–µ—Ç–∞–ª—å–Ω–∏—Ö –ª–æ–≥—ñ–≤
DEBUG=* npm start

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ Docker
docker-compose logs -f

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose ps
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É —Ç–∞ –æ–ø–∏—Å —Ñ–∞–π–ª—ñ–≤

### üóÇÔ∏è –û—Å–Ω–æ–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
Matrix-AI-Assistant-Drive/
‚îú‚îÄ‚îÄ src/                    # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ bot.js             # –ì–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ router.js          # –û–±—Ä–æ–±–Ω–∏–∫ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ llm.js             # –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Ollama
‚îÇ   ‚îú‚îÄ‚îÄ gdrive.js          # Google Drive API
‚îÇ   ‚îú‚îÄ‚îÄ cache.js           # Redis –∫–µ—à—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ metrics.js         # Prometheus –º–µ—Ç—Ä–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ security.js        # –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–ø–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ index.js           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.js      # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª—ñ—Ç–∏
‚îÇ       ‚îú‚îÄ‚îÄ logger.js      # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
‚îÇ       ‚îî‚îÄ‚îÄ retry.js       # –ú–µ—Ö–∞–Ω—ñ–∑–º –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–±
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ setup.js           # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ env.js             # –¢–µ—Å—Ç–æ–≤–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
‚îÇ   ‚îî‚îÄ‚îÄ llm.test.js        # –¢–µ—Å—Ç–∏ LLM
‚îú‚îÄ‚îÄ credentials/           # –ö–ª—é—á—ñ —Ç–∞ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏
‚îú‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ scripts/               # –°–∫—Ä–∏–ø—Ç–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
```

### üìÑ –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ñ–∞–π–ª—ñ–≤

#### üéØ –û—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–π–ª–∏ –¥–æ–¥–∞—Ç–∫—É

**`src/index.js`** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É –¥–æ–¥–∞—Ç–∫—É
- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤
- –û–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
- –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª—É –±–æ—Ç–∞

**`src/bot.js`** - –ì–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å Matrix –±–æ—Ç–∞
- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Matrix homeserver
- –û–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º –±–æ—Ç–∞

**`src/router.js`** - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∫–æ–º–∞–Ω–¥
- –ü–∞—Ä—Å–∏–Ω–≥ –≤—Ö—ñ–¥–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É –∫–æ–º–∞–Ω–¥–∏
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ –æ–±—Ä–æ–±–Ω–∏–∫–∞

**`src/llm.js`** - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Ollama
- –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ LLM
- –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—Ç—Ä—ñ–º—ñ–Ω–≥—É

**`src/gdrive.js`** - Google Drive API
- –ü–æ—à—É–∫ —Ñ–∞–π–ª—ñ–≤ –∑–∞ –Ω–∞–∑–≤–æ—é
- –ß–∏—Ç–∞–Ω–Ω—è –≤–º—ñ—Å—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Ñ–∞–π–ª—ñ–≤

**`src/cache.js`** - –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è
- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Redis
- –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è TTL

**`src/metrics.js`** - –ó–±—ñ—Ä –º–µ—Ç—Ä–∏–∫
- Prometheus –º–µ—Ç—Ä–∏–∫–∏
- HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

**`src/security.js`** - –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–ø–µ–∫–∏
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- Rate limiting
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É

#### ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏

**`src/config/config.js`** - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â

**`src/utils/logger.js`** - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –ö–æ–ª—å–æ—Ä–æ–≤–µ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—ñ–≤
- –†—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –†–æ—Ç–∞—Ü—ñ—è —Ñ–∞–π–ª—ñ–≤ –ª–æ–≥—ñ–≤

**`src/utils/retry.js`** - –ú–µ—Ö–∞–Ω—ñ–∑–º –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–±
- –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–∞–ª—å–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–ø—Ä–æ–±
- –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –ø–æ–º–∏–ª–æ–∫

#### üß™ –¢–µ—Å—Ç–∏

**`tests/setup.js`** - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–∫—ñ–≤
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- –û—á–∏—â–µ–Ω–Ω—è –ø—ñ—Å–ª—è —Ç–µ—Å—Ç—ñ–≤

**`tests/env.js`** - –¢–µ—Å—Ç–æ–≤–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
- –¢–µ—Å—Ç–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –ú–æ–∫–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –Ü–∑–æ–ª—è—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤

**`tests/llm.test.js`** - –¢–µ—Å—Ç–∏ LLM –º–æ–¥—É–ª—è
- Unit —Ç–µ—Å—Ç–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –¢–µ—Å—Ç–∏ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
- –¢–µ—Å—Ç–∏ —Ä—ñ–∑–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

#### üìã –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏

**`package.json`** - –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏
- –°–ø–∏—Å–æ–∫ npm –ø–∞–∫–µ—Ç—ñ–≤
- –°–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É
- –ú–µ—Ç–∞–¥–∞–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É

**`env.example`** - –ü—Ä–∏–∫–ª–∞–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- –í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è
- –ë–µ–∑–ø–µ—á–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

**`docker-compose.yml`** - Docker –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è
- –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –ú–µ—Ä–µ–∂—ñ —Ç–∞ —Ç–æ–º–∏
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏

**`Dockerfile`** - –û–±—Ä–∞–∑ –¥–æ–¥–∞—Ç–∫—É
- –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ Node.js
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

**`prometheus.yml`** - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Prometheus
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–æ—Ä—É –º–µ—Ç—Ä–∏–∫
- –¶—ñ–ª—ñ –¥–ª—è —Å–∫—Ä–µ–π–ø—ñ–Ω–≥—É
- –ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç—ñ–≤

#### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**`README.md`** - –û—Å–Ω–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É
- –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
- –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

**`QUICKSTART.md`** - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
- –ü–æ–∫—Ä–æ–∫–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- –†—ñ—à–µ–Ω–Ω—è –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º

**`TESTING.md`** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—é
- –¢–∏–ø–∏ —Ç–µ—Å—Ç—ñ–≤
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤
- –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

**`IMPROVEMENTS.md`** - –ü–ª–∞–Ω–∏ —Ä–æ–∑–≤–∏—Ç–∫—É
- –†–æ–∞–¥–º–∞–ø –ø—Ä–æ–µ–∫—Ç—É
- –ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

#### üß™ –¢–µ—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏

**`test-basic.js`** - –ë–∞–∑–æ–≤—ñ —Ç–µ—Å—Ç–∏
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω—å
- –¢–µ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- –®–≤–∏–¥–∫–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**`test-detailed.js`** - –î–µ—Ç–∞–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏
- –ü–æ–≤–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤
- –¢–µ—Å—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

**`test-enhanced.js`** - –ü–æ–∫—Ä–∞—â–µ–Ω—ñ —Ç–µ—Å—Ç–∏
- –¢–µ—Å—Ç–∏ –∑ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º–∏ —Å–ø—Ä–æ–±–∞–º–∏
- –°—Ç—Ä–∏–º—ñ–Ω–≥–æ–≤—ñ —Ç–µ—Å—Ç–∏
- –¢–µ—Å—Ç–∏ –±–µ–∑–ø–µ–∫–∏

---

## üöÄ –ü–æ—Ç–µ–Ω—Ü—ñ–∞–ª –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è

–ü—Ä–æ–µ–∫—Ç –ª–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –∑–∞–≤–¥—è–∫–∏ –º–æ–¥—É–ª—å–Ω—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ:

1.  **–°–µ–º–∞–Ω—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫:**
    *   –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤–µ–∫—Ç–æ—Ä–Ω—É –±–∞–∑—É –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Pinecone, Weaviate, Qdrant).
    *   –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ embeddings –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ Google Drive —Ç–∞ –∑–∞–ø–∏—Ç—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
    *   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—Ö –¥–ª—è –±—ñ–ª—å—à —Ç–æ—á–Ω–æ–≥–æ –ø–æ—à—É–∫—É —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.
2.  **–ü–ª–∞–≥—ñ–Ω–∏:**
    *   –†–æ–∑—Ä–æ–±–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –ø—ñ–¥–∫–ª—é—á–∞—î–º–∏—Ö –º–æ–¥—É–ª—ñ–≤ –¥–ª—è –Ω–æ–≤–∏—Ö API-—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Jira, Confluence, –±–∞–∑–∏ –¥–∞–Ω–∏—Ö).
3.  **–ì–æ–ª–æ—Å–æ–≤—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏:**
    *   –î–æ–¥–∞—Ç–∏ ASR (Speech-to-Text) –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–æ–ª–æ—Å—É –≤ —Ç–µ–∫—Å—Ç.
    *   –î–æ–¥–∞—Ç–∏ TTS (Text-to-Speech) –¥–ª—è –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –±–æ—Ç–∞.
4.  **–ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å:**
    *   –û–±—Ä–∞—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É i18n (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `i18next`).
    *   –ü–µ—Ä–µ–∫–ª–∞—Å—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞.
    *   –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ LLM –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –º–æ–≤–∞–º–∏.
5.  **–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:**
    *   –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Horizontal Pod Autoscaler (HPA) –≤ Kubernetes –¥–ª—è –ø—É–ª—É –≤–æ—Ä–∫–µ—Ä—ñ–≤ –±–æ—Ç–∞ —Ç–∞ Ollama.
6.  **Serverless-—Ñ—É–Ω–∫—Ü—ñ—ó:**
    *   –í–∏–Ω–µ—Å—Ç–∏ —á–∞—Å—Ç–∏–Ω—É –ª–æ–≥—ñ–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–∫–ª–∞–¥–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Ç–µ–∫—Å—Ç—É, –æ–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å) –≤ AWS Lambda, GCP Functions –∞–±–æ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏.

---

## üìÜ –†–æ–∞–¥–º–∞–ø —Ä–æ–∑–≤–∏—Ç–∫—É –ø—Ä–æ–µ–∫—Ç—É

| –ï—Ç–∞–ø                  | –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª                                                                 | –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç   |
|-----------------------|---------------------------------------------------------------------------|-------------|
| MVP                   | CLI-–±–æ—Ç, –±–∞–∑–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥ `!ask`, `!find`, LLM, Google Drive      | –í–∏—Å–æ–∫–∏–π     |
| –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥            | Prometheus, Grafana, –±–∞–∑–æ–≤–∏–π –¥–∞—à–±–æ—Ä–¥                                       | –°–µ—Ä–µ–¥–Ω—ñ–π     |
| CI/CD, Docker         | GitHub Actions + Docker Compose, –¥–æ–∫–µ—Ä–∏–∑–∞—Ü—ñ—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤                | –í–∏—Å–æ–∫–∏–π     |
| –†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å        | Plugins API, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è vector search                                      | –ù–∏–∑—å–∫–∏–π‚Äì—Å–µ—Ä–µ–¥–Ω—ñ–π |
| –ë–µ–∑–ø–µ–∫–∞               | Vault, 2FA –¥–ª—è Google, –∞—É–¥–∏—Ç –ª–æ–≥—ñ–≤                                         | –°–µ—Ä–µ–¥–Ω—ñ–π     |
| UI-–ø–∞–Ω–µ–ª—å             | –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è, –∫–æ–Ω—Ñ—ñ–≥—É—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥—É –ª–æ–≥—ñ–≤           | –ù–∏–∑—å–∫–∏–π      |

---

## ‚úçÔ∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥—É

*   **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:** –î–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å—É–≤–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –≤ Wiki —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥—ñ–∞–≥—Ä–∞–º–∏ Mermaid.
*   **PR-—à–∞–±–ª–æ–Ω–∏:** –°—Ç–≤–æ—Ä–∏—Ç–∏ —à–∞–±–ª–æ–Ω–∏ Pull Request, –¥–µ –∞–≤—Ç–æ—Ä –≤–∫–∞–∑—É—î, —â–æ –±—É–ª–æ –¥–æ–¥–∞–Ω–æ/–∑–º—ñ–Ω–µ–Ω–æ, —è–∫—ñ —Ç–µ—Å—Ç–∏ –Ω–∞–ø–∏—Å–∞–Ω—ñ, —è–∫—ñ –∑–º—ñ–Ω–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó.
*   **Semantic Commit Messages:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–µ–º–∞–Ω—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–º—ñ—Ç—ñ–≤ (`feat:`, `fix:`, `docs:`) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó CHANGELOG.
*   **–†—ñ–≤–Ω—ñ —Ä–µ–ª—ñ–∑—ñ–≤:** –î–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SemVer (Semantic Versioning) —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä–µ–ª—ñ–∑–∏ –Ω–∞ GitHub.
*   **–ö–æ–¥—Å—Ç–∞–π–ª:** –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ ESLint —Ç–∞ Prettier. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `husky` —Ç–∞ `lint-staged` –¥–ª—è –∑–∞–ø—É—Å–∫—É –ª—ñ–Ω—Ç–µ—Ä–∞ —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∏ –∫–æ–º—ñ—Ç—ñ.

---

## ü§ù –í–Ω–µ—Å–æ–∫ —É –ø—Ä–æ–µ–∫—Ç

–í–Ω–µ—Å–∫–∏ –≤—ñ—Ç–∞—é—Ç—å—Å—è! –ë—É–¥—å –ª–∞—Å–∫–∞, –æ–∑–Ω–∞–π–æ–º—Ç–µ—Å—è –∑ [CONTRIBUTING.md](CONTRIBUTING.md) (–π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏) –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø—Ä–æ—Ü–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ –Ω–∞—à–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞—Ö –∫–æ–¥—É.

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–∏–π –∑–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT - –¥–µ—Ç–∞–ª—ñ –¥–∏–≤. —É —Ñ–∞–π–ª—ñ [LICENSE](LICENSE).

---

–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ Matrix —Ç–∞ –µ–Ω—Ç—É–∑—ñ–∞—Å—Ç—ñ–≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –®–Ü.

## üéâ **–í–Ü–î–ú–Ü–ù–ù–û! –ú–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –ï–¢–ê–ü 1!**

### üìä **–©–æ –º–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏:**

‚úÖ **–ü–æ–≤–Ω—É –±–∞–∑–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É** –∑ –º–æ–¥—É–ª—å–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é  
‚úÖ **–û—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å –±–æ—Ç–∞** –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Matrix  
‚úÖ **–†–æ—É—Ç–µ—Ä –∫–æ–º–∞–Ω–¥** –∑ 6 –±–∞–∑–æ–≤–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏  
‚úÖ **LLM –ø—Ä–æ—Ü–µ—Å–æ—Ä** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Ollama  
‚úÖ **Google Drive —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é** –¥–ª—è –ø–æ—à—É–∫—É —Ç–∞ —á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤  
‚úÖ **–°–∏—Å—Ç–µ–º—É –ª–æ–≥—É–≤–∞–Ω–Ω—è** –∑ –≥–∞—Ä–Ω–∏–º —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º  
‚úÖ **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π –º–æ–¥—É–ª—å** –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é  
‚úÖ **–¢–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª** –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é** –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç—É  

### üéØ **–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞:**
- `!help` - –¥–æ–≤—ñ–¥–∫–∞
- `!ask <–ø–∏—Ç–∞–Ω–Ω—è>` - –∑–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è –®–Ü
- `!find <—Ñ–∞–π–ª>` - –∑–Ω–∞–π—Ç–∏ —Ñ–∞–π–ª –≤ Google Drive  
- `!read <—Ñ–∞–π–ª>` - –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —Ñ–∞–π–ª
- `!status` - —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
- `!ping` - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å

### üöÄ **–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –≤–∞—Å:**

1. **–°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å:**
   ```bash
   cp env.example .env
   ```

2. **–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ñ–∞–π–ª** (–∑–∞–ø–æ–≤–Ω—ñ—Ç—å Matrix –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)

3. **–ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –±–∞–∑–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
   ```bash
   npm run test:basic
   ```

4. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Ollama** –¥–ª—è –®–Ü —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

5. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:**
   ```bash
   npm run dev
   ```

### üí° **–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**

- **–í—Å—ñ –º–æ–¥—É–ª—ñ –≥–æ—Ç–æ–≤—ñ –¥–æ —Ä–æ–±–æ—Ç–∏** - –ø—Ä–æ—Å—Ç–æ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- **–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–π –∑—Ä–æ–∑—É–º—ñ–ª–æ** - –∫–æ–∂–µ–Ω —Ñ–∞–π–ª –º–∞—î –¥–µ—Ç–∞–ª—å–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
- **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∞** - –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó
- **–Ñ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫** - –±–æ—Ç –Ω–µ –≤–ø–∞–¥–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏

### üéì **–©–æ –≤–∏ –≤–∏–≤—á–∏–ª–∏:**

- **–ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞** Node.js –¥–æ–¥–∞—Ç–∫—ñ–≤
- **–†–æ–±–æ—Ç–∞ –∑ Matrix API** —á–µ—Ä–µ–∑ matrix-js-sdk
- **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –®–Ü** —á–µ—Ä–µ–∑ Ollama
- **Google Drive API** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- **–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è** —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- **–û–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥** —Ç–∞ —Ä–æ—É—Ç–∏–Ω–≥

**–í—ñ—Ç–∞—é!** üéâ –£ –≤–∞—Å —Ç–µ–ø–µ—Ä —î –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π Matrix AI –±–æ—Ç –∑ –±–∞–∑–æ–≤–æ—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—é. –•–æ—á–µ—Ç–µ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∑ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º –∫–µ—à—É–≤–∞–Ω–Ω—è (Redis) –∞–±–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É (Prometheus/Grafana)?
